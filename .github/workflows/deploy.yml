on:
  push:
    branches:
    - master
steps:
- name: Checkout
  uses: actions/checkout@v5
- name: Setup Node
  uses: actions/setup-node@v4
  with:
    node-version-file: '.nvmrc'
- name: Install Dependencies
  run: npm ci
- name: Lint
  run: npm run lint
- name: Test
  run: npm run test:ci
- name: Build
  run: npm run build
- name: Upload build
  id: deployment
  uses: actions/upload-pages-artifact@v3
  with:
    path: dist
- name: Deploy to GitHub Pages
  id: deployment
  uses: actions/deploy-pages@v4
